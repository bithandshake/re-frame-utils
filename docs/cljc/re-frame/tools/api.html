<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:12px 0 0 560px;padding:60px 48px}button{background-color:transparent;border:none;cursor:pointer;padding:0;user-select:none}button:hover{opacity:.5}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-x{overflow-x:auto}.scroll-y{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{letter-spacing:.5px;white-space:inherit}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xxs{font-size:10px;line-height:18px}.text--xs{font-size:11px;line-height:18px}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--xl{font-size:16px;line-height:24px}.text--xxl{font-size:18px;line-height:24px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.text--uppercase{text-transform:uppercase}.text--boxed{background-color:#fafafa;padding:12px 8px}.text--hidden{display:none}.text--wrap{-white-space:normal;white-space:pre-wrap}.image--boxed{background-color:#fafafa;padding:12px 8px}.color--black{color:#000000}.color--hard-grey{color:#404040}.color--soft-grey{color:#808080}.color--hard-blue{color:#0088cc}.color--soft-blue{color:#55aabb}.color--hard-purple{color:#8800cc}.color--soft-purple{color:#aa55bb}.color--hard-red{color:#cc00aa}[data-collapsed="true"] .snippet--text{display:none}[data-collapsible="true"] .snippet--header::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;height:18px;width:18px}[data-collapsible="true"][data-collapsed="false"] .snippet--header::after{content:'▲'}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{padding:21px 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{padding:18px 0;text-transform:uppercase}#top-bar--library-version{margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;position:fixed;right:0;width:calc(100% - 560px)}#bottom-bar--credits-link{padding:12px 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#primary-list .button,#secondary-list .button{padding:3px 12px}#primary-list .label,#secondary-list .label{padding:0 12px}.section{padding:72px 0}.section--header{border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:12px}.snippets{display:flex;flex-direction:column;gap:24px}.snippet--header{display:flex;gap:4px}.snippet--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}.snippet--text span{opacity:.65}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.collapsed==='true'){collapsible.dataset.collapsed='false';}else{collapsible.dataset.collapsed='true';}}function toggleSidebar(sidebarId){sidebar=document.getElementById(sidebarId);if(sidebar.dataset.hidden==='true'){sidebar.dataset.hidden='false';}else{sidebar.dataset.hidden='true';}}</script><title>re-frame-utils 0.5.1.1 documentation</title></head><body><div id="primary-list"><div class="scroll-y"><div class="primary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Isomorphic namespaces</pre><a href="https://mt-extensions.github.io/re-frame-utils/cljc/re-frame/db/api.html"><pre class="button color--hard-blue text--m ">re-frame.db.api</pre></a><a href="https://mt-extensions.github.io/re-frame-utils/cljc/re-frame/debug/api.html"><pre class="button color--hard-blue text--m ">re-frame.debug.api</pre></a><a href="https://mt-extensions.github.io/re-frame-utils/cljc/re-frame/tools/api.html"><pre class="button color--hard-blue text--m button--active">re-frame.tools.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-y"><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Declarations</pre><a href="#apply-fx-params"><pre class="button color--hard-blue text--m">apply-fx-params</pre></a><a href="#cofx-_event-id"><pre class="button color--hard-blue text--m">cofx->event-id</pre></a><a href="#cofx-_event-vector"><pre class="button color--hard-blue text--m">cofx->event-vector</pre></a><a href="#context-_db-after-effect"><pre class="button color--hard-blue text--m">context->db-after-effect</pre></a><a href="#context-_db-before-effect"><pre class="button color--hard-blue text--m">context->db-before-effect</pre></a><a href="#context-_event-id"><pre class="button color--hard-blue text--m">context->event-id</pre></a><a href="#context-_event-vector"><pre class="button color--hard-blue text--m">context->event-vector</pre></a><a href="#context_-subject-id"><pre class="button color--hard-blue text--m">context<-subject-id</pre></a><a href="#delayed-effect-map-_effect-map"><pre class="button color--hard-blue text--m">delayed-effect-map->effect-map</pre></a><a href="#effect-map-_handler-f"><pre class="button color--hard-blue text--m">effect-map->handler-f</pre></a><a href="#effect-map_-event-vector"><pre class="button color--hard-blue text--m">effect-map<-event-vector</pre></a><a href="#event-handler-registered_"><pre class="button color--hard-blue text--m">event-handler-registered?</pre></a><a href="#event-vector-_effect-map"><pre class="button color--hard-blue text--m">event-vector->effect-map</pre></a><a href="#event-vector-_event-id"><pre class="button color--hard-blue text--m">event-vector->event-id</pre></a><a href="#event-vector-_handler-f"><pre class="button color--hard-blue text--m">event-vector->handler-f</pre></a><a href="#event-vector_-params"><pre class="button color--hard-blue text--m">event-vector<-params</pre></a><a href="#event-vector_-subject-id"><pre class="button color--hard-blue text--m">event-vector<-subject-id</pre></a><a href="#event-vector_"><pre class="button color--hard-blue text--m">event-vector?</pre></a><a href="#get-event-handler"><pre class="button color--hard-blue text--m">get-event-handler</pre></a><a href="#get-event-handlers"><pre class="button color--hard-blue text--m">get-event-handlers</pre></a><a href="#merge-effect-maps"><pre class="button color--hard-blue text--m">merge-effect-maps</pre></a><a href="#metamorphic-event-_effect-map"><pre class="button color--hard-blue text--m">metamorphic-event->effect-map</pre></a><a href="#metamorphic-event_-params"><pre class="button color--hard-blue text--m">metamorphic-event<-params</pre></a><a href="#metamorphic-handler-_handler-f"><pre class="button color--hard-blue text--m">metamorphic-handler->handler-f</pre></a><a href="#side-effect-vector-_effect-id"><pre class="button color--hard-blue text--m">side-effect-vector->effect-id</pre></a><a href="#side-effect-vector_"><pre class="button color--hard-blue text--m">side-effect-vector?</pre></a></div></div></div><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">Isomorphic namespace</pre><pre class="color--black text--xxl text--wrap text--bold">re-frame.tools.api</pre></div><div class="sections"></div><div class="sections"><div class="section" id="get-event-handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-event-handlers</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q73edb158-b777-42b1-b873-b0df05b7e494"><button class="snippet--header" onClick="toggleCollapsible(&apos;q73edb158-b777-42b1-b873-b0df05b7e494&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-event-handlers
  ([]                       (deref registrar/kind-&gt;id-&gt;handler))
  ([event-kind] (event-kind (deref registrar/kind-&gt;id-&gt;handler))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4dee4616-7b1e-41ff-8414-21dad67e90af"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the registered event handlers optionally filtered to a specific type of events.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7066ef4c-f6aa-49b2-8be2-73236b51cec7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-event-handlers)<br>=&gt;<br>{:cofx  {:my-cofx-handler  (fn [_ _] ...)}<br> :event {:my-event-handler (fn [_ _] ...)}<br> :fx    {:my-fx-handler    (fn [_ _] ...)}<br> :sub   {:my-sub-handler   (fn [_ _] ...)}}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q27aaf336-7965-4e06-96d7-53e47e87fd4e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-event-handlers :sub)<br>=&gt;<br>{:my-sub-handler (fn [_ _] ...)}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q5b55cdb0-8b66-4f3f-81f5-90c34eccc6b5"><button class="snippet--header" onClick="toggleCollapsible(&apos;q5b55cdb0-8b66-4f3f-81f5-90c34eccc6b5&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-kind</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">:cofx, :event, :fx, :sub</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q0206b5cd-721d-4e80-893b-547729ccf399"><button class="snippet--header" onClick="toggleCollapsible(&apos;q0206b5cd-721d-4e80-893b-547729ccf399&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:cofx (map)<br> :event (map)<br> :fx (map)<br> :sub (map)}</pre></div></div></div></div><div class="section" id="get-event-handler"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-event-handler</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q30a63cd1-28d6-4f18-86df-b029a3881e8e"><button class="snippet--header" onClick="toggleCollapsible(&apos;q30a63cd1-28d6-4f18-86df-b029a3881e8e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-event-handler
  [event-kind event-id]
  (-&gt; (get-event-handlers)
      (get-in [event-kind event-id])))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb455308e-be55-46ef-864f-27264ef8ae11"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns a specific event handler.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q75d93a6f-1d75-4762-b88d-235a53ab52ef"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-event-handler :sub :my-subscription)<br>=&gt;<br>(fn [_ _] ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qeefd936d-7bec-4119-8f83-f58a2a1bd143"><button class="snippet--header" onClick="toggleCollapsible(&apos;qeefd936d-7bec-4119-8f83-f58a2a1bd143&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-kind</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">:cofx, :event, :fx, :sub</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qf1102da8-ac31-4f56-9d84-32fff5d54eb4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q1411e8a3-7012-4087-95ca-d950085f8b61"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">function</pre></div></div></div></div><div class="section" id="event-handler-registered_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-handler-registered?</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6263410a-25be-4d7a-a827-0a726acf1c29"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6263410a-25be-4d7a-a827-0a726acf1c29&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-handler-registered?
  [event-kind event-id]
  (-&gt; (get-event-handler event-kind event-id)
      (some?)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8b813de3-4f46-4ee0-a3e4-8c3eba03a847"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns TRUE if a specific event handler is registered.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q892c4f9d-57a0-4823-9a9f-11a9e6bfbdf8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-handler-registered? :sub :my-subscription)<br>=&gt;<br>true</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q48ea397e-77fe-4dff-8695-99edd9aa59cb"><button class="snippet--header" onClick="toggleCollapsible(&apos;q48ea397e-77fe-4dff-8695-99edd9aa59cb&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-kind</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">:cofx, :event, :fx, :sub</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qb12658ff-8dc9-40dd-bac0-9a1d1703ab7a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3bcb83ef-9b46-4b74-85e7-88324d0a9cbb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">function</pre></div></div></div></div><div class="section" id="event-vector_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-vector?</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q012f473c-a470-42e3-a314-29ea7ba4f90a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q012f473c-a470-42e3-a314-29ea7ba4f90a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-vector?
  [n]
  (and (-&gt; n vector?)
       (-&gt; n first keyword?)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9e176f77-aa5c-48cb-a160-fbe53836a6c2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns TRUE if the given 'n' value is a vector containing the first element as a keyword (indicating it might be an event vector).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe034f169-0733-4fab-8078-dfa6a6721bd3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector? [:my-event ...])<br>=&gt;<br>true</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q4ff68715-f046-4eaf-8b22-d755bbd8c16c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe703450c-e9d1-4385-80cd-a9f899872b26"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">boolean</pre></div></div></div></div><div class="section" id="event-vector_-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-vector<-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qab314df3-38f3-495b-8c04-1eecc38c67ac"><button class="snippet--header" onClick="toggleCollapsible(&apos;qab314df3-38f3-495b-8c04-1eecc38c67ac&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-vector&lt;-params
  [event-vector & params]
  (vector/concat-items event-vector params))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6d4c0c52-8f69-40b2-b2aa-14feec6b2107"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Appends the given parameters to the given event vector.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2f8de1c3-ab6d-4a25-832f-ac60ce9445f9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector&lt;-params [:my-event] "My param" "Another param")<br>=&gt;<br>[:my-event "My param" "Another param"]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qdb335f4e-0b9b-41af-a860-48c7f52e1864"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">event-vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q438fcc67-b229-42fd-8178-be0adbe727a8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">list of *</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">params</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q10133ef2-0fe8-47ec-9968-17b7fed23977"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">event-vector</pre></div></div></div></div><div class="section" id="event-vector_-subject-id"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-vector<-subject-id</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9fb2b525-9020-4e5a-b026-0b3ba85956d0"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9fb2b525-9020-4e5a-b026-0b3ba85956d0&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-vector&lt;-subject-id
  [event-vector]
  (if (-&gt; event-vector second keyword?)
      (-&gt; event-vector)
      (-&gt; event-vector (vector/insert-item 1 (random/generate-keyword)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0c4ef9ef-a5e4-46f3-b11a-61bc4da7c013"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Ensures that the second item of the given event vector is a keyword.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q833cdd1d-e680-4cb7-b8ee-40aa7f03a287"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The first item of event vectors is always a keyword representing the handler ID.<br>The second item of event vectors is the first parameter of the handler, that as a keyword can represent a subject ID.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5a252d78-e5c8-4d1f-a3e9-9fea9041bcc4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector&lt;-subject-id [:my-event :my-subject {...}])<br>=&gt;<br>[:my-event :my-subject {...}]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa843c872-a142-4310-8fdc-05bd1f338918"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector&lt;-subject-id [:my-event {...}])<br>=&gt;<br>[:my-event :xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx {...}]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q89febf61-5781-496d-aca3-eb639127932f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qbd528374-3b7b-4050-a04c-422ab27011a9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div><div class="section" id="event-vector-_event-id"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-vector->event-id</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q5ee07565-1dbe-4840-9fd1-b6e1c7a78c6f"><button class="snippet--header" onClick="toggleCollapsible(&apos;q5ee07565-1dbe-4840-9fd1-b6e1c7a78c6f&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-vector-&gt;event-id
  [event-vector]
  (first event-vector))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q93f2b825-09aa-44fd-9227-543c8e38e214"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the event ID from the given event vector.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa222ccde-c6c5-4723-b101-5ef0f6ab4c7c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector-&gt;event-id [:my-event])<br>=&gt;<br>:my-event</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qaf8fd779-3823-4fcc-8ea3-b14355fa61a9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qddb4fea4-017a-40af-a751-cd1db28faef7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div><div class="section" id="event-vector-_effect-map"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-vector->effect-map</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc4ba1416-5e3a-4952-b5c8-ce2c4baee7f8"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc4ba1416-5e3a-4952-b5c8-ce2c4baee7f8&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-vector-&gt;effect-map
  [event-vector]
  {:dispatch event-vector})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q45b21f02-ac3b-4cd8-928a-7c9b38d5e7f9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Converts the given event vector into an effect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc093d571-e0f2-46fc-9ec7-66310b6301b9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector-&gt;effect-map [:my-event])<br>=&gt;<br>{:dispatch [:my-event]}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qea139be0-331f-4b6f-ad48-9ef47583494b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe17f930c-20b5-46fe-8732-8948be2b6546"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="event-vector-_handler-f"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-vector->handler-f</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qcb5a75ff-69d5-4ff7-8f15-f16cdc67f6a2"><button class="snippet--header" onClick="toggleCollapsible(&apos;qcb5a75ff-69d5-4ff7-8f15-f16cdc67f6a2&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-vector-&gt;handler-f
  [event-vector]
  (fn [_ _] {:dispatch event-vector}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4fea5378-b808-42bd-a62b-59e164bc0295"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Converts the given event vector into an effect handler function.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd381684c-fcca-4016-b2a9-56aad1f7a516"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector-&gt;handler-f [...])<br>=&gt;<br>(fn [_ _] {:dispatch [...]})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q21c818e7-c27a-43e0-8d33-f67b2fcaace0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q1a953677-4b39-416b-a5db-e2201756a740"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">function</pre></div></div></div></div><div class="section" id="side-effect-vector_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">side-effect-vector?</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q7f814411-bb1e-438a-a88f-e8d7bc577b29"><button class="snippet--header" onClick="toggleCollapsible(&apos;q7f814411-bb1e-438a-a88f-e8d7bc577b29&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn side-effect-vector?
  [n]
  (and (-&gt; n vector?)
       (-&gt; n first keyword?)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2217d949-1dba-4b58-bb86-ab65857ee16b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns TRUE if the given 'n' value is a vector containing the first element as a keyword (indicating it might be a side effect vector).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6858bc1e-3c11-4f07-a4cf-5f4fc1d43809"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(side-effect-vector? [:my-side-effect ...])<br>=&gt;<br>true</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q12e17507-be99-4b52-8e54-2ffb04c3de54"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qf58da5d0-476d-4b95-8db4-0acdac6777d1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">boolean</pre></div></div></div></div><div class="section" id="side-effect-vector-_effect-id"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">side-effect-vector->effect-id</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q711af1a0-bb05-4f27-88d9-ae4f4f576c5f"><button class="snippet--header" onClick="toggleCollapsible(&apos;q711af1a0-bb05-4f27-88d9-ae4f4f576c5f&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn side-effect-vector-&gt;effect-id
  [side-effect-vector]
  (first side-effect-vector))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q217529c8-65d1-4932-96a0-f3820b0f6823"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the event ID from the given event vector.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q60eb843f-ad05-41aa-a324-73478639400f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(side-effect-vector-&gt;effect-id [:my-side-effect])<br>=&gt;<br>:my-side-effect</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q34a894c7-3f35-4aa9-ac71-f820349a2c9f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">side-effect-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q7e625348-5196-41a6-81c4-7c2e73723c7e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div><div class="section" id="delayed-effect-map-_effect-map"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">delayed-effect-map->effect-map</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q340c81b1-9710-476b-832f-b7ab26c03de7"><button class="snippet--header" onClick="toggleCollapsible(&apos;q340c81b1-9710-476b-832f-b7ab26c03de7&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn delayed-effect-map-&gt;effect-map
  [effect-map]
  (dissoc effect-map :ms :tick))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q10f57256-1781-4192-8fd2-9cbf0fdde585"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Dissociates the delay related properties (':ms', ':tick') from the given effect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q27236cd2-cede-4466-a0e7-6639baff17cd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(delayed-effect-map-&gt;effect-map {:dispatch [:my-event] :ms 420})<br>=&gt;<br>{:dispatch [:my-event] :ms 420}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q31240979-80d1-43fb-9d03-948d7bb423ae"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(delayed-effect-map-&gt;effect-map {:dispatch [:my-event] :tick 420})<br>=&gt;<br>{:dispatch [:my-event] :tick 420}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q4fac4b93-39ff-481e-98e2-8297ed2a0c80"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">effect-map</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q6b695c59-1612-49ed-9008-0da5e698226d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="effect-map_-event-vector"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">effect-map<-event-vector</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q56efa92f-dd7c-4158-891e-635f42442fdd"><button class="snippet--header" onClick="toggleCollapsible(&apos;q56efa92f-dd7c-4158-891e-635f42442fdd&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn effect-map&lt;-event-vector
  [effect-map event-vector]
  (update effect-map :dispatch-n vector/conj-item event-vector))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfb99c445-4b52-499a-8a1b-6ac793a518d5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Inserts the given event vector into the given effect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf9e266e7-91a5-4b44-b67e-eb066f2af8dc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(effect-map&lt;-event-vector {:dispatch [:my-event]} [:another-event])<br>=&gt;<br>{:dispatch [:my-event] :dispatch-n [[:another-event]]}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q1d5f7c39-074f-4024-bc4f-9578764c7a5e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">effect-map</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q9b9a5db0-df51-4e46-a5e2-9208884185d3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qb1a38d75-8053-43e4-b452-6b243fad4222"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="merge-effect-maps"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">merge-effect-maps</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q2ccb7a16-ba4e-4da0-b6fe-c552d0a8e8ce"><button class="snippet--header" onClick="toggleCollapsible(&apos;q2ccb7a16-ba4e-4da0-b6fe-c552d0a8e8ce&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn merge-effect-maps
  [a b]
  (letfn [
          (f0 [a key f value] (if value (update a key f value) a))]
         (-&gt; a (f0 :fx-n           vector/conj-item    (:fx             b))
               (f0 :fx-n           vector/concat-items (:fx-n           b))
               (f0 :dispatch-n     vector/conj-item    (:dispatch       b))
               (f0 :dispatch-n     vector/concat-items (:dispatch-n     b))
               (f0 :dispatch-later vector/concat-items (:dispatch-later b)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa87e89f5-309f-42d3-a595-44be4a7ec980"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Merges the the given effect maps.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q264efe31-f1f7-4061-9700-d90cb51f4416"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(merge-effect-maps {:dispatch [:a1] :dispatch-n [[:a2] [:a3]}]}<br>                   {:dispatch [:b1] :dispatch-n [[:b2]]})<br>=&gt;<br>{:dispatch [:a1] :dispatch-n [[:a2] [:a3] [:b1] [:b2]]}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qdaac15d4-808b-4a3d-9348-1cf43390a51d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">a</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qb6eb6690-e02c-47c1-813d-8fac8140a9fb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">b</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q09f3953f-e2f9-4da9-a5e6-5709b0d76618"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="effect-map-_handler-f"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">effect-map->handler-f</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd1b330d7-02f4-4e1c-9b1d-f983d48a7ad3"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd1b330d7-02f4-4e1c-9b1d-f983d48a7ad3&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn effect-map-&gt;handler-f
  [effect-map]
  (fn [_ _] effect-map))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2558e470-b759-4e5c-9507-b17362c45445"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Converts the given effect map into an effect handler function.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd6148c81-12fc-427a-9041-8fe46268062c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(effect-map-&gt;handler-f {:dispatch [:my-event]})<br>=&gt;<br>(fn [_ _] {:dispatch [:my-event]})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q19e7047a-6636-41eb-ad68-635a9328752c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">effect-map</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q08cb0b60-f018-41ed-9091-a8e85d3f6ebb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">function</pre></div></div></div></div><div class="section" id="context_-subject-id"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">context<-subject-id</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q2058dffb-291b-4e27-aa63-fcee50adb9e1"><button class="snippet--header" onClick="toggleCollapsible(&apos;q2058dffb-291b-4e27-aa63-fcee50adb9e1&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn context&lt;-subject-id
  [context]
  (update-in context [:coeffects :event] event-vector&lt;-subject-id))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe3b8f422-fa76-434f-8899-252b9f023145"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Ensures that the second item of the event vector (in the given context map) is a keyword.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5cd909f1-a3fa-4d58-b97d-efb49f614d16"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The first item of event vectors is always a keyword representing the handler ID.<br>The second item of event vectors is the first parameter of the handler, that as a keyword can represent a subject ID.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q57fd606c-044d-4785-89dd-880a788c2e91"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(context&lt;-subject-id {:coeffects {:event [:my-event :my-subject {...}]}})<br>=&gt;<br>{:coeffects {:event [:my-event :my-subject {...}]}}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc61f8f34-c167-4e42-980e-0c2d60f34a68"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(context&lt;-subject-id {:coeffects {:event [:my-event {...}]}})<br>=&gt;<br>{:coeffects {:event [:my-event :xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx {...}]}}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q0cf6e76b-7320-4ac7-86e9-e6e518038468"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q87b03bb4-8c18-4073-862b-05c6c20778c3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="context-_event-vector"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">context->event-vector</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qabcf8af3-f764-46c4-be65-43d9cf078572"><button class="snippet--header" onClick="toggleCollapsible(&apos;qabcf8af3-f764-46c4-be65-43d9cf078572&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn context-&gt;event-vector
  [context]
  (get-in context [:coeffects :event]))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q923606a5-b994-4823-8b46-bb7e2b0741d1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the event vector from the given context map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9549c135-f85c-4f1c-bc96-6cb92bfefe2b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(context-&gt;event-vector {:coeffects {:event [:my-event]}})<br>=&gt;<br>[:my-event]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q1cd92573-2405-4f9e-8030-5e2e0fac5178"><button class="snippet--header" onClick="toggleCollapsible(&apos;q1cd92573-2405-4f9e-8030-5e2e0fac5178&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:coeffects (map)<br> {:event (vector)<br>  ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q294ff5de-3dd3-4b66-a2c7-9a99ebd3a763"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div><div class="section" id="context-_event-id"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">context->event-id</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc02358c8-ab70-4584-9968-c49816e5ca2c"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc02358c8-ab70-4584-9968-c49816e5ca2c&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn context-&gt;event-id
  [context]
  (-&gt; context context-&gt;event-vector event-vector-&gt;event-id))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb8e8149c-610a-4b1f-b1b7-1bfbabd4ef36"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the event ID from the given context map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdb0bb9d0-0e5b-4c99-8caf-b81c5fecd58d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(context-&gt;event-id {:coeffects {:event [:my-event]}})<br>=&gt;<br>:my-event</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6ffc3b63-5d65-4fde-96dd-9b451a17a4e6"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6ffc3b63-5d65-4fde-96dd-9b451a17a4e6&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:coeffects (map)<br> {:event (vector)<br>  ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q19527ab7-642a-44fb-b9a3-27a8bdd10b99"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre></div></div></div></div><div class="section" id="context-_db-before-effect"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">context->db-before-effect</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qb06f9519-4199-40d7-9571-87a2340a4196"><button class="snippet--header" onClick="toggleCollapsible(&apos;qb06f9519-4199-40d7-9571-87a2340a4196&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn context-&gt;db-before-effect
  [context]
  (get-in context [:coeffects :db]))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd5ca70f5-c76a-4417-a071-4776fde135f7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the unchanged db from the given context map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q44bd528f-3015-4d41-a242-41ef49d85edf"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(context-&gt;db-before-effect {:coeffects {:db {...}}})<br>=&gt;<br>{...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qdd92e359-1951-451e-bc03-717d7c895ccb"><button class="snippet--header" onClick="toggleCollapsible(&apos;qdd92e359-1951-451e-bc03-717d7c895ccb&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:coeffects (map)<br> {:db (map)<br>  ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qfd3eb9f8-500e-4f23-8742-d15010546fc6"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="context-_db-after-effect"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">context->db-after-effect</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q4f521867-9de6-45ca-947f-df098a908f82"><button class="snippet--header" onClick="toggleCollapsible(&apos;q4f521867-9de6-45ca-947f-df098a908f82&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn context-&gt;db-after-effect
  [context]
  (get-in context [:effects :db]))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb16f46ae-fcfd-43bd-a8f6-be98a5b135a1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the updated db from the given context map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3c56fc27-fab9-486c-9e10-5bdac98ec18c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(context-&gt;db-after-effect {:effects {:db {...}}})<br>=&gt;<br>{...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qb60a0a5c-0adb-4a23-9805-dc9582b01fdf"><button class="snippet--header" onClick="toggleCollapsible(&apos;qb60a0a5c-0adb-4a23-9805-dc9582b01fdf&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:effects (map)<br> {:db (map)<br>  ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q0c37182b-baba-4abd-a2db-d4733b07fb90"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="cofx-_event-id"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">cofx->event-id</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q02f7505d-30d5-4fd7-8d5f-c61b21750b3a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q02f7505d-30d5-4fd7-8d5f-c61b21750b3a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn cofx-&gt;event-id
  [cofx]
  (get-in cofx [:event 0]))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc80d76fd-1d0b-4ed2-82e8-61b26c6bda8b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the event ID from the given coeffect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q591b152b-94cb-429f-97b5-6c679371cd31"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(cofx-&gt;event-id {:event [:my-event]})<br>=&gt;<br>:my-event</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qaebe22e2-1ad7-4e5e-b5b7-d2bc3684d65d"><button class="snippet--header" onClick="toggleCollapsible(&apos;qaebe22e2-1ad7-4e5e-b5b7-d2bc3684d65d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">cofx</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:event (vector)<br>  [(keyword) event-id]<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qdac6528f-e2ff-4a0e-9d34-084a6fffdf9e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre></div></div></div></div><div class="section" id="cofx-_event-vector"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">cofx->event-vector</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q1043b0b8-b3a2-4108-9268-3159dd7f5d05"><button class="snippet--header" onClick="toggleCollapsible(&apos;q1043b0b8-b3a2-4108-9268-3159dd7f5d05&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn cofx-&gt;event-vector
  [cofx]
  (get cofx :event))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q43c06158-e4e6-4199-8c43-126dbe0ac316"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the event vector from the given coeffect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q29738fb8-8a50-4cd2-af8b-4c6c9bd9ecc0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(cofx-&gt;event-vector {:event [:my-event]})<br>=&gt;<br>[:my-event]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qad4d05ab-c66b-4038-804b-bfd0a6ccee09"><button class="snippet--header" onClick="toggleCollapsible(&apos;qad4d05ab-c66b-4038-804b-bfd0a6ccee09&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">cofx</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:event (vector)<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2ed5d197-95de-4b73-a99f-390bd7426137"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div><div class="section" id="metamorphic-handler-_handler-f"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">metamorphic-handler->handler-f</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q3c5b8e3d-5b62-455e-b7c4-c80083b2f6bd"><button class="snippet--header" onClick="toggleCollapsible(&apos;q3c5b8e3d-5b62-455e-b7c4-c80083b2f6bd&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn metamorphic-handler-&gt;handler-f
  [metamorphic-handler]
  (cond (map?    metamorphic-handler) (-&gt; metamorphic-handler event-vector-&gt;handler-f)
        (vector? metamorphic-handler) (-&gt; metamorphic-handler event-vector-&gt;handler-f)
        (fn?     metamorphic-handler) (fn [cofx event-vector] (metamorphic-event-&gt;effect-map (metamorphic-handler cofx event-vector)))
        :return  metamorphic-handler))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd3556ab5-98c2-4a85-be0f-7a7b210e6ce7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Converts the given metamorphic handler into an effect handler function.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qebba2ce0-98c9-47e9-ba96-0e01a06bf736"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-handler-&gt;handler-f [:my-event])<br>=&gt;<br>(fn [_ _] {:dispatch [:my-event]})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q49bcb06b-ec9d-4b7e-98b0-7dab38951cf3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-handler-&gt;handler-f {:dispatch [:my-event {...]})<br>=&gt;<br>(fn [_ _] {:dispatch [:my-event {...]})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q96e98c84-d5ea-47a6-ae2d-60da5814f4a9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-handler-&gt;handler-f (fn [_ _] ...))<br>=&gt;<br>(fn [_ _] ...})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3fd63789-53cb-4497-ba0a-5d9984bfe3e5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">metamorphic-handler</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">metamorphic-handler</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qd064d6bf-d5e9-45e8-bceb-a14018fe2179"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">function</pre></div></div></div></div><div class="section" id="metamorphic-event-_effect-map"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">metamorphic-event->effect-map</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6e3f3d3c-2d45-4763-b085-4344ae6effd4"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6e3f3d3c-2d45-4763-b085-4344ae6effd4&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn metamorphic-event-&gt;effect-map
  [metamorphic-event]
  (cond (vector? metamorphic-event) (-&gt; metamorphic-event event-vector-&gt;effect-map)
        (map?    metamorphic-event) (-&gt; metamorphic-event)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe1c7c8cf-0832-46ee-bbfd-9943f5ed1bd0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Converts the given metamorphic event into an effect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q69f52d10-3c5d-4e1c-80db-ba8d0baf6580"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-event-&gt;effect-map [:my-event])<br>=&gt;<br>{:dispatch [:my-event]}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q08943691-80dc-4af3-ba98-e07fc96e6d0c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-event-&gt;effect-map {:dispatch [:my-event])<br>=&gt;<br>{:dispatch [:my-event]}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q5678f7a6-11b0-4cb4-bb61-73f0826ad390"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">metamorphic-event</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">metamorphic-event</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc4e86b40-823b-422a-9924-897b8829deae"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="metamorphic-event_-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">metamorphic-event<-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qec2c05bd-6213-491a-996b-af99c8225a0a"><button class="snippet--header" onClick="toggleCollapsible(&apos;qec2c05bd-6213-491a-996b-af99c8225a0a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn metamorphic-event&lt;-params
  [metamorphic-event & params]
  (cond (event-vector? metamorphic-event) (vector/concat-items metamorphic-event params)
        (vector?       metamorphic-event) (vector/-&gt;items      metamorphic-event #(apply metamorphic-event&lt;-params % params))
        (map?          metamorphic-event) (map/-&gt;values        metamorphic-event #(apply metamorphic-event&lt;-params % params))
        :return        metamorphic-event))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q478b3269-69d6-4e76-8885-0c1f525e47c9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q90c2ab0e-6b57-49ec-9709-eb0f8b25873b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Appends the given parameters to each event vector in the given effect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa4dfc818-b451-4df2-a754-368c2570b063"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-event&lt;-params [:my-event] "My param" "Another param")<br>=&gt;<br>[:my-event "My param" "Another param"]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb7b69462-c3e8-4552-8a9f-1f0b3ff3aed7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-event&lt;-params {:dispatch [:my-event]} "My param" "Another param")<br>=&gt;<br>{:dispatch [:my-event "My param" "Another param"]}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q4f336389-d530-4358-b2db-1f72da2e3b36"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">metamorphic-event</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">metamorphic-event</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa7fd7077-ddf4-4a99-abe7-6619cc116b81"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">list of *</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">params</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qd2d882f0-26ff-433b-b01e-e813360ef3cc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">metamorphic-event</pre></div></div></div></div><div class="section" id="apply-fx-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">apply-fx-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc7b82fee-c812-47a7-8c27-74d97265310d"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc7b82fee-c812-47a7-8c27-74d97265310d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn apply-fx-params
  [handler-f params]
  (if (sequential?     params)
      (apply handler-f params)
      (handler-f       params)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1ec05d75-3150-421f-817e-1a813a7ac34b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Applies the given side effect function using the provided parameters as a list of arguments;<br>regardless of whether they are provided as a single value or multiple values within a vector.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q904bd8ec-9b49-4968-b43e-72cf518aacf1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(apply-fx-params (fn [a] ...) "a")</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q581b2a9c-10c1-44f1-90f1-eac5291a8c16"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(apply-fx-params (fn [a] ...) ["a"])</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q47583ab9-6bb0-461c-a9f9-290a05b03bc7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(apply-fx-params (fn [a b] ...) ["a" "b"])</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q0a6a10c6-3226-44b3-87f7-f3f8cbca7325"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">function</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">handler-f</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa0e938ee-0fb8-4b13-9efa-9bfc7f330731"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">* or vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">params</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q4a1d6536-b1e2-42a5-a790-ff1183527a64"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div></div><div id="top-bar"><pre class="text--xxl text--bold" id="top-bar--library-name">re-frame-utils</pre><pre class="color--soft-grey text--s" id="top-bar--library-version">0.5.1.1</pre><a class="text--s" href="https://github.com/mt-extensions/re-frame-utils" id="top-bar--library-uri"><pre class="color--hard-blue">github.com/mt-extensions/re-frame-utils</pre></a></div><div id="bottom-bar"><a class="color--soft-purple text--s" href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
