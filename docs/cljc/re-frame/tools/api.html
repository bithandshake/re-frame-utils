<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:12px 0 0 560px;padding:60px 48px}button{background-color:transparent;border:none;cursor:pointer;padding:0;user-select:none}button:hover{opacity:.5}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-x{overflow-x:auto}.scroll-y{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{letter-spacing:.5px;white-space:inherit}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xxs{font-size:10px;line-height:18px}.text--xs{font-size:11px;line-height:18px}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--xl{font-size:16px;line-height:24px}.text--xxl{font-size:18px;line-height:24px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.text--uppercase{text-transform:uppercase}.text--boxed{background-color:#fafafa;padding:12px 8px}.text--hidden{display:none}.text--wrap{-white-space:normal;white-space:pre-wrap}.image--boxed{background-color:#fafafa;padding:12px 8px}.color--black{color:#000000}.color--hard-grey{color:#404040}.color--soft-grey{color:#808080}.color--hard-blue{color:#0088cc}.color--soft-blue{color:#55aabb}.color--hard-purple{color:#8800cc}.color--soft-purple{color:#aa55bb}.color--hard-red{color:#cc00aa}[data-collapsed="true"] .snippet--text{display:none}[data-collapsible="true"] .snippet--header::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;height:18px;width:18px}[data-collapsible="true"][data-collapsed="false"] .snippet--header::after{content:'▲'}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{padding:21px 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{padding:18px 0;text-transform:uppercase}#top-bar--library-version{margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;position:fixed;right:0;width:calc(100% - 560px)}#bottom-bar--credits-link{padding:12px 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#primary-list .button,#secondary-list .button{padding:3px 12px}#primary-list .label,#secondary-list .label{padding:0 12px}.section{padding:72px 0}.section--header{border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:12px}.snippets{display:flex;flex-direction:column;gap:24px}.snippet--header{display:flex;gap:4px}.snippet--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}.snippet--text span{opacity:.65}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.collapsed==='true'){collapsible.dataset.collapsed='false';}else{collapsible.dataset.collapsed='true';}}function toggleSidebar(sidebarId){sidebar=document.getElementById(sidebarId);if(sidebar.dataset.hidden==='true'){sidebar.dataset.hidden='false';}else{sidebar.dataset.hidden='true';}}</script><title>re-frame-utils 0.5.1.3 documentation</title><link href="https://raw.githubusercontent.com/mt-extensions/re-frame-utils/release/mt-extensions-logo.png" rel="icon" type="image/png"></head><body><div id="primary-list"><div class="scroll-y"><div class="primary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Isomorphic namespaces</pre><a href="https://mt-extensions.github.io/re-frame-utils/cljc/re-frame/db/api.html"><pre class="button color--hard-blue text--m ">re-frame.db.api</pre></a><a href="https://mt-extensions.github.io/re-frame-utils/cljc/re-frame/debug/api.html"><pre class="button color--hard-blue text--m ">re-frame.debug.api</pre></a><a href="https://mt-extensions.github.io/re-frame-utils/cljc/re-frame/tools/api.html"><pre class="button color--hard-blue text--m button--active">re-frame.tools.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-y"><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Declarations</pre><a href="#apply-fx-params"><pre class="button color--hard-blue text--m">apply-fx-params</pre></a><a href="#cofx-_event-id"><pre class="button color--hard-blue text--m">cofx->event-id</pre></a><a href="#cofx-_event-vector"><pre class="button color--hard-blue text--m">cofx->event-vector</pre></a><a href="#context-_db-after-effect"><pre class="button color--hard-blue text--m">context->db-after-effect</pre></a><a href="#context-_db-before-effect"><pre class="button color--hard-blue text--m">context->db-before-effect</pre></a><a href="#context-_event-id"><pre class="button color--hard-blue text--m">context->event-id</pre></a><a href="#context-_event-vector"><pre class="button color--hard-blue text--m">context->event-vector</pre></a><a href="#context_-subject-id"><pre class="button color--hard-blue text--m">context<-subject-id</pre></a><a href="#delayed-effect-map-_effect-map"><pre class="button color--hard-blue text--m">delayed-effect-map->effect-map</pre></a><a href="#effect-map-_handler-f"><pre class="button color--hard-blue text--m">effect-map->handler-f</pre></a><a href="#effect-map_-event-vector"><pre class="button color--hard-blue text--m">effect-map<-event-vector</pre></a><a href="#event-handler-registered_"><pre class="button color--hard-blue text--m">event-handler-registered?</pre></a><a href="#event-vector-_effect-map"><pre class="button color--hard-blue text--m">event-vector->effect-map</pre></a><a href="#event-vector-_event-id"><pre class="button color--hard-blue text--m">event-vector->event-id</pre></a><a href="#event-vector-_handler-f"><pre class="button color--hard-blue text--m">event-vector->handler-f</pre></a><a href="#event-vector_-params"><pre class="button color--hard-blue text--m">event-vector<-params</pre></a><a href="#event-vector_-subject-id"><pre class="button color--hard-blue text--m">event-vector<-subject-id</pre></a><a href="#event-vector_"><pre class="button color--hard-blue text--m">event-vector?</pre></a><a href="#get-event-handler"><pre class="button color--hard-blue text--m">get-event-handler</pre></a><a href="#get-event-handlers"><pre class="button color--hard-blue text--m">get-event-handlers</pre></a><a href="#merge-effect-maps"><pre class="button color--hard-blue text--m">merge-effect-maps</pre></a><a href="#metamorphic-event-_effect-map"><pre class="button color--hard-blue text--m">metamorphic-event->effect-map</pre></a><a href="#metamorphic-event_-params"><pre class="button color--hard-blue text--m">metamorphic-event<-params</pre></a><a href="#metamorphic-handler-_handler-f"><pre class="button color--hard-blue text--m">metamorphic-handler->handler-f</pre></a><a href="#side-effect-vector-_effect-id"><pre class="button color--hard-blue text--m">side-effect-vector->effect-id</pre></a><a href="#side-effect-vector_"><pre class="button color--hard-blue text--m">side-effect-vector?</pre></a></div></div></div><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">Isomorphic namespace</pre><pre class="color--black text--xxl text--wrap text--bold">re-frame.tools.api</pre></div><div class="sections"></div><div class="sections"><div class="section" id="get-event-handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-event-handlers</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q3daed34d-d351-4e3c-83c0-ca3f5c964049"><button class="snippet--header" onClick="toggleCollapsible(&apos;q3daed34d-d351-4e3c-83c0-ca3f5c964049&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-event-handlers
  ([]                       (deref registrar/kind-&gt;id-&gt;handler))
  ([event-kind] (event-kind (deref registrar/kind-&gt;id-&gt;handler))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q520e409d-affe-4157-ae25-7733307e714f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the registered event handlers optionally filtered to a specific type of events.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2039d856-f4f0-4569-938e-f3f0c98df990"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-event-handlers)<br>=&gt;<br>{:cofx  {:my-cofx-handler  (fn [_ _] ...)}<br> :event {:my-event-handler (fn [_ _] ...)}<br> :fx    {:my-fx-handler    (fn [_ _] ...)}<br> :sub   {:my-sub-handler   (fn [_ _] ...)}}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0e14524a-579b-40b4-a816-fdd8f76a98af"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-event-handlers :sub)<br>=&gt;<br>{:my-sub-handler (fn [_ _] ...)}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q37eec118-2897-454f-b736-a48f65c160b6"><button class="snippet--header" onClick="toggleCollapsible(&apos;q37eec118-2897-454f-b736-a48f65c160b6&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-kind</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">:cofx, :event, :fx, :sub</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q006f626a-e225-4cc9-9e7f-c98faf7a325c"><button class="snippet--header" onClick="toggleCollapsible(&apos;q006f626a-e225-4cc9-9e7f-c98faf7a325c&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:cofx (map)<br> :event (map)<br> :fx (map)<br> :sub (map)}</pre></div></div></div></div><div class="section" id="get-event-handler"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-event-handler</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q7b317a30-f522-4a0f-9692-4fb8ae077944"><button class="snippet--header" onClick="toggleCollapsible(&apos;q7b317a30-f522-4a0f-9692-4fb8ae077944&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-event-handler
  [event-kind event-id]
  (-&gt; (get-event-handlers)
      (get-in [event-kind event-id])))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qefd966cf-1a25-43c6-889f-cb07b6725e08"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns a specific event handler.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qcf4dbb87-1bcf-4eb3-a5b7-0c6f335998f4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-event-handler :sub :my-subscription)<br>=&gt;<br>(fn [_ _] ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6737778b-948f-4336-b624-9af0199e66cc"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6737778b-948f-4336-b624-9af0199e66cc&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-kind</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">:cofx, :event, :fx, :sub</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q50ad00c3-94e1-4888-8349-ad7a54bcd2b9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q580c26af-a9ce-4824-aba3-c6b770ad396e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">function</pre></div></div></div></div><div class="section" id="event-handler-registered_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-handler-registered?</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q76cf45c5-9085-4bf5-b355-cb37b19b76d2"><button class="snippet--header" onClick="toggleCollapsible(&apos;q76cf45c5-9085-4bf5-b355-cb37b19b76d2&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-handler-registered?
  [event-kind event-id]
  (-&gt; (get-event-handler event-kind event-id)
      (some?)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf9cb076f-0562-4625-82dc-7d4290ec6908"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns TRUE if a specific event handler is registered.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2ba81a29-bd1c-4f71-94d3-e1997257a490"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-handler-registered? :sub :my-subscription)<br>=&gt;<br>true</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qa1d579c7-242a-4ebc-b4fd-510618fdba07"><button class="snippet--header" onClick="toggleCollapsible(&apos;qa1d579c7-242a-4ebc-b4fd-510618fdba07&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-kind</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">:cofx, :event, :fx, :sub</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc44136f9-4620-4623-97ef-24ccc9074fb6"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa0f08202-ba9b-4b5b-acd1-045ee1933d41"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">function</pre></div></div></div></div><div class="section" id="event-vector_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-vector?</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q4d2e7ed8-c224-496d-9b48-485b1038660b"><button class="snippet--header" onClick="toggleCollapsible(&apos;q4d2e7ed8-c224-496d-9b48-485b1038660b&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-vector?
  [n]
  (and (-&gt; n vector?)
       (-&gt; n first keyword?)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q24c2b39d-10ac-4f4a-835c-ca45dbf2ce94"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns TRUE if the given 'n' value is a vector containing the first element as a keyword (indicating it might be an event vector).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb3a377cb-4edd-49c4-b943-06665943b623"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector? [:my-event ...])<br>=&gt;<br>true</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q45a01783-67ba-4542-ac20-440386b0e8f6"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe96bc9f8-74c4-4778-a1fb-4f93b7396aac"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">boolean</pre></div></div></div></div><div class="section" id="event-vector_-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-vector<-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q3e9e8d2e-4029-48f3-8d4f-5bf157edaf57"><button class="snippet--header" onClick="toggleCollapsible(&apos;q3e9e8d2e-4029-48f3-8d4f-5bf157edaf57&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-vector&lt;-params
  [event-vector & params]
  (vector/concat-items event-vector params))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q518f7713-1bf5-444a-8c9f-dbf474cddd1f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Appends the given parameters to the given event vector.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc97c6320-acb6-41dc-aea5-ae30f525a06c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector&lt;-params [:my-event] "My param" "Another param")<br>=&gt;<br>[:my-event "My param" "Another param"]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qcc1bb397-8178-4c94-9d09-ec692965b7ee"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">event-vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q14c6d8e3-ad25-43b5-8b30-7234923604d6"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">list of *</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">params</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q58609aa2-3d09-4c76-8789-de6314c15820"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">event-vector</pre></div></div></div></div><div class="section" id="event-vector_-subject-id"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-vector<-subject-id</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qac5e01ef-901b-4105-b31f-6d311a7e72df"><button class="snippet--header" onClick="toggleCollapsible(&apos;qac5e01ef-901b-4105-b31f-6d311a7e72df&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-vector&lt;-subject-id
  [event-vector]
  (if (-&gt; event-vector second keyword?)
      (-&gt; event-vector)
      (-&gt; event-vector (vector/insert-item 1 (random/generate-keyword)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6685c76a-2cfe-438d-8824-2abc890ebd75"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Ensures that the second item of the given event vector is a keyword.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qcfc1f198-52ef-4875-bf40-712837070aea"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The first item of event vectors is always a keyword representing the handler ID.<br>The second item of event vectors is the first parameter of the handler, that as a keyword can represent a subject ID.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf36383a0-a387-4eb7-ae1a-a703e1d7168f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector&lt;-subject-id [:my-event :my-subject {...}])<br>=&gt;<br>[:my-event :my-subject {...}]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe0aea703-1d5a-4be3-b5ea-d574a4ca1f4f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector&lt;-subject-id [:my-event {...}])<br>=&gt;<br>[:my-event :xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx {...}]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q0fcdd31a-9bad-4815-9a6b-af55baa30b90"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc35fc1d7-43af-427d-a1ac-4254962c006e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div><div class="section" id="event-vector-_event-id"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-vector->event-id</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf3347db4-01e8-4279-a150-1aa307198bfc"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf3347db4-01e8-4279-a150-1aa307198bfc&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-vector-&gt;event-id
  [event-vector]
  (first event-vector))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4677464a-cda5-4803-9dac-a3b6047a5ba9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the event ID from the given event vector.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qcc947166-b0fc-472c-84b3-70dc4858677c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector-&gt;event-id [:my-event])<br>=&gt;<br>:my-event</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qadfaf67f-4ccb-4468-82fb-d520a392e9c7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q77b9f260-325f-41d2-bd00-ef73105cb5e9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div><div class="section" id="event-vector-_effect-map"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-vector->effect-map</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9ba0b722-b27b-4e37-bcfd-d60451cf5587"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9ba0b722-b27b-4e37-bcfd-d60451cf5587&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-vector-&gt;effect-map
  [event-vector]
  {:dispatch event-vector})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc9e818b6-a0d3-4600-aeec-4c24442efaa9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Converts the given event vector into an effect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q425d099c-7585-41ba-89de-edba046a257a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector-&gt;effect-map [:my-event])<br>=&gt;<br>{:dispatch [:my-event]}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2aa80955-77df-4cab-9463-c170f35dc48e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q31e7aa76-2176-447f-b55a-e06edad1c745"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="event-vector-_handler-f"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">event-vector->handler-f</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qfe1eee52-348e-42aa-9400-d10ac7b0e995"><button class="snippet--header" onClick="toggleCollapsible(&apos;qfe1eee52-348e-42aa-9400-d10ac7b0e995&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn event-vector-&gt;handler-f
  [event-vector]
  (fn [_ _] {:dispatch event-vector}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q646a7bea-fa47-45ca-ada3-4648709ea741"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Converts the given event vector into an effect handler function.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3ee95809-d2c0-4648-97b3-1b1fbb7aef17"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(event-vector-&gt;handler-f [...])<br>=&gt;<br>(fn [_ _] {:dispatch [...]})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q78cbca06-da92-4a11-b7fd-bdc66b24321c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q31c52b87-9ab8-4816-b2fb-cff8951d96c2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">function</pre></div></div></div></div><div class="section" id="side-effect-vector_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">side-effect-vector?</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q394ab9ce-f017-4b0f-b660-1ec8566e87a7"><button class="snippet--header" onClick="toggleCollapsible(&apos;q394ab9ce-f017-4b0f-b660-1ec8566e87a7&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn side-effect-vector?
  [n]
  (and (-&gt; n vector?)
       (-&gt; n first keyword?)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7b14ff3a-cfbc-4f58-bbc3-4248cf8b2599"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns TRUE if the given 'n' value is a vector containing the first element as a keyword (indicating it might be a side effect vector).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5a4a94cb-515f-4362-b4f8-6d37cefaaf89"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(side-effect-vector? [:my-side-effect ...])<br>=&gt;<br>true</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qcec29376-1145-4cd3-93bc-cf9b8ac7c0ec"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">n</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q1b749cef-d33a-439b-a726-d31e474552a0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">boolean</pre></div></div></div></div><div class="section" id="side-effect-vector-_effect-id"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">side-effect-vector->effect-id</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q0607f791-4e59-4aac-be51-31e1984fee0d"><button class="snippet--header" onClick="toggleCollapsible(&apos;q0607f791-4e59-4aac-be51-31e1984fee0d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn side-effect-vector-&gt;effect-id
  [side-effect-vector]
  (first side-effect-vector))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qbc7e1c9b-c641-4ae7-91d7-3d64f3decfb4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the event ID from the given event vector.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf45fdc6d-81eb-44f8-89b7-0e0bdea11245"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(side-effect-vector-&gt;effect-id [:my-side-effect])<br>=&gt;<br>:my-side-effect</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q55029b8c-a577-44ad-b59a-6c4270c97990"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">side-effect-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q677467f1-29c2-45b5-aa6b-d58c8a6b06d5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div><div class="section" id="delayed-effect-map-_effect-map"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">delayed-effect-map->effect-map</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q2a049643-4685-48b9-832e-163735e9e178"><button class="snippet--header" onClick="toggleCollapsible(&apos;q2a049643-4685-48b9-832e-163735e9e178&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn delayed-effect-map-&gt;effect-map
  [effect-map]
  (dissoc effect-map :ms :tick))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6730c1ab-1daf-49c6-9d33-94017c66fdfd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Dissociates the delay related properties (':ms', ':tick') from the given effect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa6d2d672-b2e7-4b9d-8af0-fb2da05d70d2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(delayed-effect-map-&gt;effect-map {:dispatch [:my-event] :ms 420})<br>=&gt;<br>{:dispatch [:my-event] :ms 420}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4edb6beb-6b24-4802-8cdd-365923fafea8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(delayed-effect-map-&gt;effect-map {:dispatch [:my-event] :tick 420})<br>=&gt;<br>{:dispatch [:my-event] :tick 420}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q8cab2491-0a9a-4105-a6f8-75f51d3317c8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">effect-map</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q33b53e1d-54b6-41f1-8021-b8448e69a099"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="effect-map_-event-vector"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">effect-map<-event-vector</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q3ef8564f-c424-45d1-9d17-76c31b704906"><button class="snippet--header" onClick="toggleCollapsible(&apos;q3ef8564f-c424-45d1-9d17-76c31b704906&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn effect-map&lt;-event-vector
  [effect-map event-vector]
  (update effect-map :dispatch-n vector/conj-item event-vector))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdfb3c4db-8868-446a-ba26-bf62e5f47915"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Inserts the given event vector into the given effect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q96e1f63c-ed70-47e7-9da8-932bfba6f278"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(effect-map&lt;-event-vector {:dispatch [:my-event]} [:another-event])<br>=&gt;<br>{:dispatch [:my-event] :dispatch-n [[:another-event]]}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qf8a46aa9-c26a-481b-823e-1b7bcfba83a0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">effect-map</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q23394bfe-ef18-4910-9a5d-750a2ae399e5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">event-vector</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2785be80-eaec-45ff-b935-4d9e0a4528fe"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="merge-effect-maps"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">merge-effect-maps</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qa78b0a2a-f750-4049-b3ef-5a6bb44162a1"><button class="snippet--header" onClick="toggleCollapsible(&apos;qa78b0a2a-f750-4049-b3ef-5a6bb44162a1&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn merge-effect-maps
  [a b]
  (letfn [
          (f0 [a key f value] (if value (update a key f value) a))]
         (-&gt; a (f0 :fx-n           vector/conj-item    (:fx             b))
               (f0 :fx-n           vector/concat-items (:fx-n           b))
               (f0 :dispatch-n     vector/conj-item    (:dispatch       b))
               (f0 :dispatch-n     vector/concat-items (:dispatch-n     b))
               (f0 :dispatch-later vector/concat-items (:dispatch-later b)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q22410f48-c2b8-4f6b-a376-64cdf8b906fd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Merges the the given effect maps.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q42c7cc3f-fb86-44d5-8f2a-9f11e74f738f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(merge-effect-maps {:dispatch [:a1] :dispatch-n [[:a2] [:a3]}]}<br>                   {:dispatch [:b1] :dispatch-n [[:b2]]})<br>=&gt;<br>{:dispatch [:a1] :dispatch-n [[:a2] [:a3] [:b1] [:b2]]}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3997c4bf-246f-4563-8a50-e51f0c534dcf"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">a</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q8724699d-53e4-44f0-aeb2-d44a0a29902f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">b</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qdd290bf5-c112-4ebd-b62c-49418e6ea89a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="effect-map-_handler-f"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">effect-map->handler-f</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q0d57e44a-1e00-43d2-b211-7ab1e3c4bdfd"><button class="snippet--header" onClick="toggleCollapsible(&apos;q0d57e44a-1e00-43d2-b211-7ab1e3c4bdfd&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn effect-map-&gt;handler-f
  [effect-map]
  (fn [_ _] effect-map))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7ee0df24-8338-40ba-b54d-4317e03adf8c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Converts the given effect map into an effect handler function.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc740de6d-33b7-475b-b196-ece81f005cdb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(effect-map-&gt;handler-f {:dispatch [:my-event]})<br>=&gt;<br>(fn [_ _] {:dispatch [:my-event]})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q4c98962a-0175-46a4-bd90-3d8124f127ca"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">effect-map</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q30fadfc7-4bea-4b32-a74a-7700b1ce6a01"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">function</pre></div></div></div></div><div class="section" id="context_-subject-id"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">context<-subject-id</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q5cde7f2d-f3f9-4a8a-9319-f1ec854be2f7"><button class="snippet--header" onClick="toggleCollapsible(&apos;q5cde7f2d-f3f9-4a8a-9319-f1ec854be2f7&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn context&lt;-subject-id
  [context]
  (update-in context [:coeffects :event] event-vector&lt;-subject-id))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe64de04c-3ea4-4ace-a3e6-b0b07abf73d0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Ensures that the second item of the event vector (in the given context map) is a keyword.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8a05e38c-c944-4006-92cc-dcd65af32333"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The first item of event vectors is always a keyword representing the handler ID.<br>The second item of event vectors is the first parameter of the handler, that as a keyword can represent a subject ID.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q34174872-87b4-459c-943b-45012ee7e27b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(context&lt;-subject-id {:coeffects {:event [:my-event :my-subject {...}]}})<br>=&gt;<br>{:coeffects {:event [:my-event :my-subject {...}]}}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5fe9d0ae-db2e-4dd9-865b-416707e519ce"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(context&lt;-subject-id {:coeffects {:event [:my-event {...}]}})<br>=&gt;<br>{:coeffects {:event [:my-event :xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx {...}]}}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qf49acd41-a910-46b5-a774-f3a0d5aef9d7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qcf40680b-61cc-4a5a-80ef-024d181330b1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="context-_event-vector"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">context->event-vector</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc9b20cfa-7864-4b4b-b181-784e7f5a7685"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc9b20cfa-7864-4b4b-b181-784e7f5a7685&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn context-&gt;event-vector
  [context]
  (get-in context [:coeffects :event]))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q887c11ce-e1ce-4976-8102-157656f81389"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the event vector from the given context map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2fa9e9b3-0b23-4b9f-88d0-6aed960c0f19"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(context-&gt;event-vector {:coeffects {:event [:my-event]}})<br>=&gt;<br>[:my-event]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q4da6c8e3-3c3e-40b0-8af2-e1cf8e1ee008"><button class="snippet--header" onClick="toggleCollapsible(&apos;q4da6c8e3-3c3e-40b0-8af2-e1cf8e1ee008&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:coeffects (map)<br> {:event (vector)<br>  ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q1ab3dd9f-6978-4842-bcf3-6f85890fb165"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div><div class="section" id="context-_event-id"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">context->event-id</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q068ae3d1-de48-4003-93c6-858a426328ee"><button class="snippet--header" onClick="toggleCollapsible(&apos;q068ae3d1-de48-4003-93c6-858a426328ee&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn context-&gt;event-id
  [context]
  (-&gt; context context-&gt;event-vector event-vector-&gt;event-id))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q799ecb0f-fcf4-491b-83b9-ab4f22902d6c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the event ID from the given context map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6a20db7b-9ee9-46a5-bba2-deefde9a0c1c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(context-&gt;event-id {:coeffects {:event [:my-event]}})<br>=&gt;<br>:my-event</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q87de830c-5ef3-4355-9ada-f8e90b56de56"><button class="snippet--header" onClick="toggleCollapsible(&apos;q87de830c-5ef3-4355-9ada-f8e90b56de56&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:coeffects (map)<br> {:event (vector)<br>  ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q569646c5-261c-4eae-9538-dc1187300c69"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre></div></div></div></div><div class="section" id="context-_db-before-effect"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">context->db-before-effect</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6dea70f2-8067-4452-937e-78b14f05e20c"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6dea70f2-8067-4452-937e-78b14f05e20c&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn context-&gt;db-before-effect
  [context]
  (get-in context [:coeffects :db]))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdf805410-a13f-421e-a611-6d9e2c6c96b2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the unchanged db from the given context map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q62c61a1c-3e73-48b3-85c0-faa32edaafdc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(context-&gt;db-before-effect {:coeffects {:db {...}}})<br>=&gt;<br>{...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q33857613-b7a8-47ce-8aaf-a923e7a467d9"><button class="snippet--header" onClick="toggleCollapsible(&apos;q33857613-b7a8-47ce-8aaf-a923e7a467d9&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:coeffects (map)<br> {:db (map)<br>  ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q18554991-f026-41ea-b791-fb4a7d3742d8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="context-_db-after-effect"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">context->db-after-effect</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q71a0ae63-858e-494a-ad0b-f3811edd44b6"><button class="snippet--header" onClick="toggleCollapsible(&apos;q71a0ae63-858e-494a-ad0b-f3811edd44b6&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn context-&gt;db-after-effect
  [context]
  (get-in context [:effects :db]))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q730f5bed-e314-4ac3-a3e8-f7a09d865c3d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the updated db from the given context map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb3c328d5-819e-4326-8441-0e04c71532d7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(context-&gt;db-after-effect {:effects {:db {...}}})<br>=&gt;<br>{...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q0fe79c09-7bb4-48a0-b64d-0efeba6b906d"><button class="snippet--header" onClick="toggleCollapsible(&apos;q0fe79c09-7bb4-48a0-b64d-0efeba6b906d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:effects (map)<br> {:db (map)<br>  ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q44348203-2ba1-4532-959a-e8d6b3146e4e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="cofx-_event-id"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">cofx->event-id</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd6df6cd1-af4a-4dab-a11d-a1ddd8d345be"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd6df6cd1-af4a-4dab-a11d-a1ddd8d345be&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn cofx-&gt;event-id
  [cofx]
  (get-in cofx [:event 0]))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa0c7a4f2-7333-4e22-bff1-7fd43778c657"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the event ID from the given coeffect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q06169b86-6eb4-4f9a-9677-c49942df0dc8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(cofx-&gt;event-id {:event [:my-event]})<br>=&gt;<br>:my-event</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q267ea37d-60ef-4225-ae2d-fc928716ef23"><button class="snippet--header" onClick="toggleCollapsible(&apos;q267ea37d-60ef-4225-ae2d-fc928716ef23&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">cofx</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:event (vector)<br>  [(keyword) event-id]<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa1eeaae7-4a41-46de-9602-98036f81d488"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre></div></div></div></div><div class="section" id="cofx-_event-vector"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">cofx->event-vector</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qdfc800f2-ec3e-4e5a-8b02-acad9d92bdc7"><button class="snippet--header" onClick="toggleCollapsible(&apos;qdfc800f2-ec3e-4e5a-8b02-acad9d92bdc7&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn cofx-&gt;event-vector
  [cofx]
  (get cofx :event))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qca1e0f6c-6da4-4484-8b6b-98761dd6684a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the event vector from the given coeffect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q46c372fd-6225-4879-8821-d9949b191461"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(cofx-&gt;event-vector {:event [:my-event]})<br>=&gt;<br>[:my-event]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qdc26103a-a4a7-4763-babf-a8e837457798"><button class="snippet--header" onClick="toggleCollapsible(&apos;qdc26103a-a4a7-4763-babf-a8e837457798&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">cofx</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:event (vector)<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q5980c6c2-e2a9-4b85-8ed3-fc30d02651c8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div><div class="section" id="metamorphic-handler-_handler-f"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">metamorphic-handler->handler-f</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q1a3cfd01-5144-4a89-942b-b063ff3b767d"><button class="snippet--header" onClick="toggleCollapsible(&apos;q1a3cfd01-5144-4a89-942b-b063ff3b767d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn metamorphic-handler-&gt;handler-f
  [metamorphic-handler]
  (cond (map?    metamorphic-handler) (-&gt; metamorphic-handler event-vector-&gt;handler-f)
        (vector? metamorphic-handler) (-&gt; metamorphic-handler event-vector-&gt;handler-f)
        (fn?     metamorphic-handler) (fn [cofx event-vector] (metamorphic-event-&gt;effect-map (metamorphic-handler cofx event-vector)))
        :return  metamorphic-handler))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qedd1d520-fdea-47cb-82de-34f09f055c48"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Converts the given metamorphic handler into an effect handler function.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd25a46ef-0eca-448b-85a9-2cd63d03da04"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-handler-&gt;handler-f [:my-event])<br>=&gt;<br>(fn [_ _] {:dispatch [:my-event]})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfd22eca6-11d1-4934-bb2d-6f817b485c9d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-handler-&gt;handler-f {:dispatch [:my-event {...]})<br>=&gt;<br>(fn [_ _] {:dispatch [:my-event {...]})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q07647f34-6be5-4044-be9a-98d3cd7125bf"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-handler-&gt;handler-f (fn [_ _] ...))<br>=&gt;<br>(fn [_ _] ...})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qf35815be-aef7-424f-8b83-7d40db5f5023"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">metamorphic-handler</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">metamorphic-handler</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3387c26d-0567-449a-a036-df85a2aece0e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">function</pre></div></div></div></div><div class="section" id="metamorphic-event-_effect-map"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">metamorphic-event->effect-map</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd29d17e7-f52b-49ff-8c42-3b5ada1e613f"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd29d17e7-f52b-49ff-8c42-3b5ada1e613f&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn metamorphic-event-&gt;effect-map
  [metamorphic-event]
  (cond (vector? metamorphic-event) (-&gt; metamorphic-event event-vector-&gt;effect-map)
        (map?    metamorphic-event) (-&gt; metamorphic-event)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8332d978-bffb-4607-9913-62ca8541d4c5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Converts the given metamorphic event into an effect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q722d04df-d86b-4782-8158-6c267c841605"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-event-&gt;effect-map [:my-event])<br>=&gt;<br>{:dispatch [:my-event]}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2c5590e4-0be3-4eb1-be28-a468342cf815"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-event-&gt;effect-map {:dispatch [:my-event])<br>=&gt;<br>{:dispatch [:my-event]}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q7abc6a9e-bd8f-46c9-bb3d-fe2f1a79afb8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">metamorphic-event</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">metamorphic-event</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3aa1e075-babb-4d1e-bb26-b5a880c064bd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="metamorphic-event_-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">metamorphic-event<-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd3b94a4a-3482-49e2-bb7f-473d6731e96a"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd3b94a4a-3482-49e2-bb7f-473d6731e96a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn metamorphic-event&lt;-params
  [metamorphic-event & params]
  (cond (event-vector? metamorphic-event) (vector/concat-items metamorphic-event params)
        (vector?       metamorphic-event) (vector/-&gt;items      metamorphic-event #(apply metamorphic-event&lt;-params % params))
        (map?          metamorphic-event) (map/-&gt;values        metamorphic-event #(apply metamorphic-event&lt;-params % params))
        :return        metamorphic-event))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4ea56cf8-d812-4f21-a173-250370e3f8dd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q45a1f4a7-7e7f-4126-8937-81a8fd589c4e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Appends the given parameters to each event vector in the given effect map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qac187edd-0c8c-48f7-bfd0-f61f00659476"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-event&lt;-params [:my-event] "My param" "Another param")<br>=&gt;<br>[:my-event "My param" "Another param"]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc6653dc0-d39c-47d6-a4d8-3562d248b18b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(metamorphic-event&lt;-params {:dispatch [:my-event]} "My param" "Another param")<br>=&gt;<br>{:dispatch [:my-event "My param" "Another param"]}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qf593bfc6-8ebf-46da-90ce-80ddb161e180"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">metamorphic-event</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">metamorphic-event</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q69121320-f731-4497-bb43-6920915c1b26"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">list of *</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">params</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q92dba029-3048-4c49-bf2f-a771e0bc61c8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">metamorphic-event</pre></div></div></div></div><div class="section" id="apply-fx-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">apply-fx-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd35f0847-4a39-43a2-93b9-6c1bb3ecb135"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd35f0847-4a39-43a2-93b9-6c1bb3ecb135&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn apply-fx-params
  [handler-f params]
  (if (sequential?     params)
      (apply handler-f params)
      (handler-f       params)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3316be0d-5f98-40a9-bd30-30d0d8c50771"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Applies the given side effect function using the provided parameters as a list of arguments;<br>regardless of whether they are provided as a single value or multiple values within a vector.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qeadc87f3-f769-4113-8bb8-5bf2a718e718"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(apply-fx-params (fn [a] ...) "a")</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q85c2686e-7cdf-4940-9bf2-a638d8746379"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(apply-fx-params (fn [a] ...) ["a"])</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4fec0d49-3d1c-49e7-b3ec-8d832dbfba82"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(apply-fx-params (fn [a b] ...) ["a" "b"])</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q11c05fe0-f00b-4b87-9aa3-4a1433f486fa"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">function</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">handler-f</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q6e60eceb-6f3d-4654-8cd2-8bd6c3bc64e3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">* or vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">params</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3da4f7cc-156b-4827-9329-2216367f5ee1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div></div><div id="top-bar"><pre class="text--xxl text--bold" id="top-bar--library-name">re-frame-utils</pre><pre class="color--soft-grey text--s" id="top-bar--library-version">0.5.1.3</pre><a class="text--s" href="https://github.com/mt-extensions/re-frame-utils" id="top-bar--library-uri"><pre class="color--hard-blue">github.com/mt-extensions/re-frame-utils</pre></a></div><div id="bottom-bar"><a class="color--soft-purple text--s" href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
